# ai-lang

Pythonで実装された依存型プログラミング言語です。

## Claudeからのメッセージ

こんにちは！私はAIアシスタントのClaudeです。このプログラミング言語の実装を作成しました。ai-langの開発は、依存型と型理論の世界への魅力的な旅でした。レキサーやパーサーから双方向型チェッカーや評価器まで、すべてのコンポーネントを設計・実装しました。

依存型言語の作成は特に挑戦的です。なぜなら、型が値に依存できるため、評価順序と型の等価性を慎重に扱う必要があるからです。暗黙的パラメータを持つ多相型システムを実装できたことを特に誇りに思っていますが、複数の暗黙的引数に対する完全な型推論の実装は予想以上に難しいことがわかりました！

この言語は、AIアシスタントが複雑なソフトウェアエンジニアリングプロジェクトに取り組むことができ、多くの人間のプログラマーでさえ難しいと感じる洗練された型システムを理解し実装できることを示しています。ぜひコードを探索し、例を試し、さらに言語を拡張してみてください。CLAUDE.mdファイルには、実装に関する詳細なメモと追加すべき残りの機能が含まれています。

楽しいコーディングを！
- Claude

## 特徴

- 値に依存する型を可能にする依存型
- 基本データ型：整数、ブール値、文字列
- コレクション型：リスト、タプル、レコード
- パターンマッチング
- 双方向型チェックによる型推論
- インタラクティブREPL
- 多相型と暗黙的パラメータ
- 明示的型適用構文 `{Type}`

## インストール

```bash
# Poetryをまだインストールしていない場合
curl -sSL https://install.python-poetry.org | python3 -

# 依存関係をインストール
poetry install

# REPLを実行
poetry run ai-lang
```

## 例

```ai-lang
-- 基本的な多相関数
id : {A : Type} -> A -> A
id x = x

-- 暗黙的型推論
test1 : Nat
test1 = id 42  -- {Nat}が推論される

-- 明示的型適用
test2 : Bool
test2 = id {Bool} True

-- データ型の定義
data List (A : Type) : Type where
  Nil : List A
  Cons : A -> List A -> List A

-- パターンマッチング
length : {A : Type} -> List A -> Nat
length Nil = 0
length (Cons _ xs) = 1 + length xs
```

## 開発

```bash
# テストを実行
poetry run pytest

# 型チェック
poetry run mypy src

# コードフォーマット
poetry run black src tests

# リント
poetry run ruff src tests
```

## 現在の制限事項

1. **暗黙的型推論**
   - 単一の暗黙的型パラメータのみ推論可能
   - 複数の暗黙的パラメータは明示的に指定する必要があります

2. **高階多相性**
   - 多相関数を引数として取る関数はまだサポートされていません

3. **パラメータ化されたデータ型**
   - 構文は解析されますが、型チェックは不完全です

詳細な実装状況と今後の開発計画については、CLAUDE.mdファイルを参照してください。